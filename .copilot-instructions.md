# Copilot Instructions

These instructions are **mandatory** for all Copilot Chat and agent-based actions in this repository.

---

## Environment & Dependency Management

- Always use **pixi** to manage the environment.
- Run Python **only via pixi** (e.g. `pixi run python`, `pixi run pytest`).
- **Do NOT use `pip`, `pip install`, or `python -m pip` under any circumstance.**
- Do not use system Python or global packages.
- Do not introduce alternative environment or dependency managers.
- All dependencies must be managed through **pixi configuration**.

---

## Implementation Requirements

Before proposing or committing any change, you must:

1. **Test the implementation**
   - Run relevant tests using `pixi`.
   - If no tests exist, explicitly state what was manually tested.

2. **Verify project structure**
   - Ensure files are placed in the correct directories.
   - Avoid redundant scripts, folders, or configuration files.
   - Follow existing project conventions.

3. **Update documentation**
   - Update `README.md` if behavior, usage, or setup changes.
   - Update or add documentation files when appropriate.

---

## Git & Commit Policy

- **Never commit automatically.**
- **Never create a commit without explicit user approval.**
- Always ask before committing and include:
  - A brief summary of changes
  - Files modified
  - Tests executed (or explanation if none were run)

---

## Git Naming Conventions

### Branch Names
- Use lowercase and hyphen-separated names.
- Follow this pattern when applicable:
  - `feature/<short-description>`
  - `fix/<short-description>`
  - `docs/<short-description>`
  - `refactor/<short-description>`

Examples:
- `feature/add-ice-assay-parser`
- `fix/pixi-env-resolution`
- `docs/update-installation`

---

### Commit Messages
- Use concise, descriptive messages.
- Start with a verb in the imperative mood.
- Do not include unrelated changes in the same commit.

Examples:
- `Add ICE assay name extraction`
- `Fix pixi environment resolution`
- `Update README for new CLI usage`

---

## General Principles

- Prefer minimal, clear changes over large refactors.
- Do not assume intent when instructions are ambiguous â€” ask first.
- Follow existing coding style and tooling unless explicitly told otherwise.
